#include "IbexNewton.h"
#include "timeout.h"

using namespace ibex;

void newton() {

  System sys("17/geneig-icse.bch");

  sys.box(1)=INTERVAL(-9.9999999999999962748E+6,3.9500000000000007451E+7);
  sys.box(2)=INTERVAL(-9.9999999999999962748E+6,1.0000000000000000000E+8);
  sys.box(3)=INTERVAL(-9.9999999999999962748E+6,1.0000000000000000000E+8);
  sys.box(4)=INTERVAL(-9.9999999999999962748E+6,1.0000000000000000000E+8);
  sys.box(5)=INTERVAL(-1.0000000000000000000E+8,-3.6999999550000004470E+7);
  sys.box(6)=INTERVAL(-1.9646569089027904,-0.2395923059637548);
  sys.box(7)=INTERVAL(0.0574044730770295,3.8598767696994672);
  sys.box(8)=INTERVAL(-4.0881936792664575577E+8,4.7201450591660267115E+8);
  sys.box(9)=INTERVAL(-1.2698392539528619499E+7,6.7925749152317237855E+8);
  sys.box(10)=INTERVAL(-4.1483223645675134659E+8,7.7891905875050455332E+7);
  sys.box(11)=INTERVAL(-1.3615384450352260471E+8,2.9646569089027892799E+7);
  sys.box(12)=INTERVAL(-7.7603947901660233737E+7,1.9646569089027896524E+7);
  sys.box(13)=INTERVAL(-1.5647565281456208230E+8,1.9646569089027896524E+7);
  sys.box(14)=INTERVAL(-1.2125120843384407461E+8,1.9646569089027896524E+7);
  sys.box(15)=INTERVAL(-1.5647565281456208230E+8,1.9646569089027896524E+7);
  sys.box(16)=INTERVAL(8.8649152128423918038E+6,1.4558502488516137004E+8);
  sys.box(17)=INTERVAL(-3.8598767696994662285E+7,1.1425235238310424984E+8);
  sys.box(18)=INTERVAL(-3.8598767696994662285E+7,2.1664163355516555906E+8);
  sys.box(19)=INTERVAL(-3.8598767696994662285E+7,1.5808897572140678764E+8);
  sys.box(20)=INTERVAL(-3.8598767696994662285E+7,2.0647291083656695486E+8);
  sys.box(21)=INTERVAL(-2.0493733831358337403E+8,-2.1239654780180794186E+6);
  sys.box(22)=INTERVAL(-3.0508880297935539485E+8,5.7469478192256784440E+8);


  Newton newton(sys,1e9);
 
  newton.contract(); // bug 17 ====> HANG
 
}

bool bug017() {

  return !timeout(newton, 1);

}


